<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>for luca</title>

<style>
:root{
  --pink:#ff4d8d;
  --pink2:#ff8fb8;
  --dark:#b21f55;
}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background:linear-gradient(180deg,#fff0f6,#ffe3ef);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  overflow:hidden;
}

/* floating hearts */
.heart{
  position:fixed;
  bottom:-40px;
  font-size:22px;
  opacity:.6;
  animation:float 12s linear infinite;
}
@keyframes float{
  to{transform:translateY(-120vh)}
}

/* main card */
.card{
  width:min(1100px,94vw);
  background:rgba(255,255,255,.65);
  backdrop-filter:blur(16px);
  border-radius:24px;
  border:1px solid rgba(255,77,141,.25);
  box-shadow:0 30px 70px rgba(255,77,141,.25);
  padding:22px;
}

/* header */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
}
.header h2{
  margin:0;
  color:var(--dark);
}
.langBtn{
  border:none;
  background:rgba(255,77,141,.15);
  border-radius:999px;
  padding:10px 14px;
  font-weight:800;
  color:var(--dark);
  cursor:pointer;
}

/* grid */
.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:18px;
}
@media(min-width:900px){
  .grid{grid-template-columns:1fr 380px;}
}

/* paper */
.paper{
  position:relative;
  background:
    repeating-linear-gradient(
      180deg,
      #fff 0px,
      #fff 26px,
      rgba(255,77,141,.08) 27px,
      rgba(255,77,141,.08) 28px
    );
  border-radius:18px;
  border:1px solid rgba(255,77,141,.18);
  box-shadow:0 20px 45px rgba(255,77,141,.18);
  max-height:65vh;
  overflow:auto;
  padding:22px 18px;
}

.paper::-webkit-scrollbar{
  width:10px;
}
.paper::-webkit-scrollbar-thumb{
  background:rgba(178,31,85,.35);
  border-radius:999px;
  border:3px solid #fff;
}

#letterText{
  white-space:pre-wrap;
  line-height:1.7;
  font-family:ui-serif,Georgia,"Times New Roman",serif;
  color:#3b1f2b;
}

.signature{
  margin-top:20px;
  text-align:right;
  font-family:ui-serif,Georgia,"Times New Roman",serif;
  color:var(--dark);
}
.signature .yours{font-style:italic;font-weight:600;}
.signature .name{font-weight:800;}

/* right column cards */
.sideCard{
  background:rgba(255,255,255,.55);
  backdrop-filter:blur(16px);
  border-radius:22px;
  border:1px solid rgba(255,77,141,.25);
  box-shadow:0 20px 45px rgba(255,77,141,.22);
  padding:14px;
}

.label{
  text-align:center;
  font-weight:800;
  color:var(--dark);
  margin-bottom:10px;
}

/* chess */
.chessboard{
  display:grid;
  grid-template-columns:repeat(8,1fr);
  aspect-ratio:1;
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,77,141,.25);
}
.square{
  display:grid;
  place-items:center;
  font-size:26px;
  cursor:pointer;
  user-select:none;
}
.light{background:rgba(255,255,255,.85)}
.dark{background:rgba(255,143,184,.22)}
.square.sel{outline:2px solid var(--pink)}
.square.hl{background:rgba(255,77,141,.35)}

.status{
  margin-top:8px;
  font-weight:800;
  color:var(--dark);
  font-size:13px;
}
.newGame{
  margin-top:8px;
  border:none;
  border-radius:999px;
  padding:8px 12px;
  font-weight:800;
  background:rgba(255,77,141,.15);
  color:var(--dark);
  cursor:pointer;
}
</style>
</head>

<body>

<div class="heart" style="left:15%">üíó</div>
<div class="heart" style="left:45%;animation-duration:14s">üíñ</div>
<div class="heart" style="left:70%;animation-duration:11s">üíû</div>

<div class="card">

  <div class="header">
    <h2 id="title">for luca</h2>
    <button class="langBtn" id="langBtn">polish</button>
  </div>

  <div class="grid">
    <!-- LETTER -->
    <div class="paper" id="paper">
      <div id="letterText"></div>
      <div class="signature">
        <div class="yours" id="sigYours">yours,</div>
        <div class="name">marta</div>
      </div>
    </div>

    <!-- RIGHT COLUMN -->
    <div>
      <div class="sideCard">
        <div class="label">music that makes me think of you</div>
        <iframe
          src="https://open.spotify.com/embed/playlist/2wSxwuUANGEvMWPhouZKA0"
          width="100%" height="152"
          style="border-radius:12px"
          frameborder="0"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy">
        </iframe>
      </div>

      <div class="sideCard" style="margin-top:14px">
        <div class="label">one game?</div>
        <div class="chessboard" id="board"></div>
        <div class="status" id="status">your move (white)</div>
        <button class="newGame" id="newGame">new game</button>
      </div>
    </div>
  </div>
</div>

<script src="chess.min.js"></script>
<script>
/* LETTER TEXT */
const englishLetter=`Lorem ipsum dolor sit amet consectetur adipiscing elit.

Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis.

Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas.`;

const polishLetter=`Lorem ipsum dolor sit amet consectetur adipiscing elit.

Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis.

Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas.`;

let polish=false;
const textEl=document.getElementById("letterText");
const title=document.getElementById("title");
const sig=document.getElementById("sigYours");
const btn=document.getElementById("langBtn");

function applyLang(){
  if(polish){
    title.textContent="dla luca";
    sig.textContent="twoja,";
    btn.textContent="english";
    textEl.textContent=polishLetter;
  }else{
    title.textContent="for luca";
    sig.textContent="yours,";
    btn.textContent="polish";
    textEl.textContent=englishLetter;
  }
}
btn.onclick=()=>{polish=!polish;applyLang();}
applyLang();

/* CHESS */
const boardEl=document.getElementById("board");
const statusEl=document.getElementById("status");
const newGameBtn=document.getElementById("newGame");
const chess=new Chess();
let selected=null;

const pieces={
  p:"‚ôü",r:"‚ôú",n:"‚ôû",b:"‚ôù",q:"‚ôõ",k:"‚ôö",
  P:"‚ôô",R:"‚ôñ",N:"‚ôò",B:"‚ôó",Q:"‚ôï",K:"‚ôî"
};

function draw(){
  boardEl.innerHTML="";
  const b=chess.board();
  for(let r=0;r<8;r++){
    for(let f=0;f<8;f++){
      const sq=document.createElement("div");
      const name="abcdefgh"[f]+(8-r);
      sq.dataset.sq=name;
      sq.className="square "+(((r+f)%2)?"dark":"light");
      if(selected===name) sq.classList.add("sel");
      const p=b[r][f];
      if(p) sq.textContent=pieces[p.color==="w"?p.type.toUpperCase():p.type];
      boardEl.appendChild(sq);
    }
  }
}

function computerMove(){
  const moves=chess.moves({verbose:true});
  if(!moves.length) return;
  const move=moves[Math.floor(Math.random()*moves.length)];
  chess.move(move);
}

boardEl.onclick=e=>{
  const sq=e.target.closest(".square");
  if(!sq) return;
  const name=sq.dataset.sq;
  if(!selected){
    const p=chess.get(name);
    if(p && p.color==="w"){selected=name;draw();}
    return;
  }
  const move=chess.move({from:selected,to:name,promotion:"q"});
  selected=null;
  if(move){
    computerMove();
  }
  draw();
};

newGameBtn.onclick=()=>{chess.reset();selected=null;draw();};

draw();
</script>
</body>
</html>
